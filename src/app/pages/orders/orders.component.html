<div class="orderList-container" *ngIf="_.size(service._loading.loadingMap) == 0">
    
    <ng-container *ngIf="!_.isUndefined(orderList)">

        <ng-container *ngIf="_.size(orderList) == 0;else orderlist">

            <div class="empty-page">

                <div class="empty-content">

                    <h4 class="fw-600">You have not added any Orders</h4>

                    <div class="emptyIcon" style="background: url(./assets/images/empty-list.png);"></div>

                    <a class="btn btn-md btn-primary bi bi-plus-lg" [routerLink]="'/pages/create-order'">

                        <span class="ms-3" >Create New Order</span>

                    </a>

                </div>

            </div>

        </ng-container>

    </ng-container>

    <ng-template #orderlist>

        <div class="container-fluid">

            <div class="d-flex">

                <div class="page-header">Orders ({{totalCount}})</div>

            </div>

            <div class="row d-flex justify-content-between mt-2">

                <div class="col-sm-8 col-md-5 col-lg-4 col-xl-4 mb-2">

                    <input type="text" class="form-control form-control-lg border-2" placeholder="Search for orders by order ID">

                </div>

                <div class="col-sm-4 col-md-7 col-lg-8 col-xl-8 text-end mb-2 align-self-center">

                    <button class="btn btn-md btn-outline-primary bi bi-sliders" (click)="openAsideBar()"> 
                
                        <span class="ms-3">Filter</span>
                    
                    </button>   

                    <a class="btn btn-primary btn-md bi bi-file-earmark-plus ms-2" routerLink="/pages/create-order">

                        <span class="ms-3" >Create New Order</span>

                    </a>

                </div>

            </div>

            <div class="card border-0">

                <div class="table-responsive">

                    <table class="table table-bordered bg-white" mat-table [dataSource]="orderList">

                        <ng-container matColumnDef="ORDER NO" >

                            <th mat-header-cell *matHeaderCellDef> Order No</th>

                            <td mat-cell *matCellDef="let orderDet; let index = index">

                                {{ orderDet?.orderNo }}

                            </td>

                            </ng-container>

                            <ng-container matColumnDef="ORDER DATE" >

                                <th mat-header-cell *matHeaderCellDef> Order Date</th>

                                <td mat-cell *matCellDef="let orderDet">

                                    {{ orderDet?.orderDate | date: 'dd MMM YYYY' }}

                                </td>

                            </ng-container>

                            <ng-container matColumnDef="CUSTOMER NAME">

                                <th mat-header-cell *matHeaderCellDef> Customer Name</th>

                                <td mat-cell *matCellDef="let orderDet">

                                    {{ orderDet?.customerId?.firstName + ' ' + orderDet?.customerId?.lastName | uppercase }}

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="MOBILE" >

                                <th mat-header-cell *matHeaderCellDef> Mobile </th>

                                <td mat-cell *matCellDef="let orderDet">

                                    {{ orderDet?.customerId?.mobile  }}

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="MAIL">

                                <th mat-header-cell *matHeaderCellDef> Email ID</th>

                                <td mat-cell *matCellDef="let orderDet">

                                    {{ orderDet?.customerId?.email  }}

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="NOOFITEMS">

                                <th mat-header-cell *matHeaderCellDef>No of Items</th>

                                <td mat-cell *matCellDef="let orderDet" class="text-center">

                                    {{ orderDet?.qty || '--Nil--'  }}

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="BOOKEDVIA">

                                <th mat-header-cell *matHeaderCellDef> Booked Via </th>

                                <td mat-cell *matCellDef="let orderDet" class="text-center">

                                    {{ orderDet?.orderMode || '--Nil--'  }}

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="ORDER STATUS">

                                <th mat-header-cell *matHeaderCellDef> Order Status</th>

                                <td  mat-cell *matCellDef="let orderDet" class="text-center">

                                  <span class="badge rounded-pill px-2">  {{ orderDet?.orderStatus || '--Nil--'  }} <i class="bi bi-arrow-repeat"></i></span>

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="PAYMENT STATUS">

                                <th mat-header-cell *matHeaderCellDef> Payment Status</th>

                                <td mat-cell *matCellDef="let orderDet" class="text-center">

                                {{ orderDet?.paymentStatus || '--Nil--'  }} <i class=" text-primary bi bi-arrow-repeat"></i>

                                </td>
                                
                            </ng-container>

                            <ng-container matColumnDef="ACTION" stickyEnd>
                    
                                <th mat-header-cell *matHeaderCellDef class="d-flex align-items-center justify-content-center"> Action </th>
                
                                <td mat-cell *matCellDef="let locationDet">
                
                                    <a class="text-primary d-flex align-items-center justify-content-center" > 
            
                                        <i class="bi bi-three-dots"></i>
            
                                    </a>
                
                                </td>
            
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="tableColumns; sticky: true"></tr>

                            <tr mat-row *matRowDef="let row; columns: tableColumns;"></tr>

                    </table>

                </div>

            </div>

        </div>

    </ng-template>

</div>

<asidebar #canvas [openCanvas]="openCanvas" title="Filters" position="end" [showCancelBtn]="true" (onClose)="openCanvas = false" (onCancel)="canvas.close()" >

    <div [formGroup]="filterForm">

        
    
    </div>

</asidebar>