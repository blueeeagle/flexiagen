<div class="auth-page">

    <div class="container min-vh-100">

        <div class="row min-vh-100">

            <div class="col-lg-6 d-flex align-self-center justify-content-center d-none d-lg-flex">

                <img src="assets/images/home/banner-img.png" alt="" class="mw-100">

            </div>

            <div class="col-lg-6 d-flex justify-content-center align-self-center px-4 px-lg-0 ps-lg-5 mb-0 mb-lg-5">

                <div class="login-card">

                    <div class="img-container text-center mb-5">
    
                        <a routerLink="/home">

                            <img src="assets/images/logo.png" alt="">
                            
                        </a>
        
                    </div>

                    <ng-container *ngIf="!otpVerified; else welcomeTemp">

                        <h2 class="fw-700">Verify OTP</h2>

                        <h5 class="text-light">Verification Code Sent to (+917 343343443)</h5>
    
                        <form class="py-4">
    
                            <div class="otp-input-groups">
    
                                <input class="form-control" [(ngModel)]="otp[0]" [ngModelOptions]="{ standalone: true }" [ngClass]="{ 'border-danger': formSubmitted && otp[0] == '' }" maxlength="1" type="text"/>
    
                                <input class="form-control" [(ngModel)]="otp[1]" [ngModelOptions]="{ standalone: true }" [ngClass]="{ 'border-danger': formSubmitted && otp[1] == '' }" maxlength="1" type="text"/>
    
                                <input class="form-control" [(ngModel)]="otp[2]" [ngModelOptions]="{ standalone: true }" [ngClass]="{ 'border-danger': formSubmitted && otp[2] == '' }" maxlength="1" type="text"/>
    
                                <input class="form-control" [(ngModel)]="otp[3]" [ngModelOptions]="{ standalone: true }" [ngClass]="{ 'border-danger': formSubmitted && otp[3] == '' }" maxlength="1" type="text"/>
    
                            </div>
                            
                            <div class="form-group mt-4">
    
                                <p class="fw-600 text-center text-light" *ngIf="seconds > 0">you will receive OTP within {{ seconds }} seconds</p>
    
                                <a class="text-primary text-center fw-500" *ngIf="seconds == 0" (click)="resendOTP()">Forget Password ?</a>
    
                            </div>
    
                            <button class="btn btn-primary btn-lg w-100 mt-4" [disabled]="(formSubmitted && _.size(_.pickBy(otp)) < 4) || isLoading" (click)="verifyOTP()">
                                
                                <ng-container *ngIf="!isLoading">VERIFY</ng-container>

                                <div class="spinner-border text-white-50" *ngIf="isLoading" role="status">
    
                                    <span class="visually-hidden">Loading...</span>
    
                                </div>
                            
                            </button>
    
                        </form>                        

                    </ng-container>

                    <ng-template #welcomeTemp>

                        <h2 class="fw-700 text-center">Welcome to Flexiclean</h2>

                        <h5 class="text-light text-center">Please setup your Profile details</h5>

                        <a class="btn btn-primary btn-lg w-100 mt-4">Start</a>

                    </ng-template>

                </div>

            </div>                


        </div>

    </div>

</div>